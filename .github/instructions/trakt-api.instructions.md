---
applyTo: '**/*'
---
# Trakt API reference usage
- Canonical REST definitions live in `spec/trakt.apib` (API Blueprint format) with `HOST: https://api.trakt.tv`. Use this file as the single source of truth for endpoints, parameters, payloads, and example responses.
- Default requests are JSON. Include headers `Content-Type: application/json`, `trakt-api-key: <client_id>`, `trakt-api-version: 2`, and your app `User-Agent`. OAuth-protected routes add `Authorization: Bearer <access_token>`.
- Rate limiting and VIP behaviours are documented near the top of the spec (look for the `Rate Limiting`, `VIP Methods`, and `VIP Enhanced` sections). Surface these when proposing bulk operations.
- Pagination, extended info flags, and filter parameters are shared across many endpoints—reference the dedicated sections before inventing bespoke query strings.
- Standard media payloads (`movie`, `show`, `season`, `episode`, `person`, `user`) are defined in the `Standard Media Objects` section. Reuse these shapes when modelling new features.

## Endpoint catalog (from `spec/trakt.apib`)
- **Authentication – OAuth**: Authorize (`/oauth/authorize{?response_type,client_id,redirect_uri,state}`), Get Token (`/oauth/token`), Refresh Token (`/oauth/token`), Revoke Token (`/oauth/revoke`).
- **Authentication – Devices**: Device Code (`/oauth/device/code`), Get Token (`/oauth/device/token`).
- **Calendars**: My Shows (`/calendars/my/shows/{start_date}/{days}`), My New Shows (`/calendars/my/shows/new/{start_date}/{days}`), My Season Premieres (`/calendars/my/shows/premieres/{start_date}/{days}`), My Finales (`/calendars/my/shows/finales/{start_date}/{days}`), My Movies (`/calendars/my/movies/{start_date}/{days}`), My Streaming (`/calendars/my/streaming/{start_date}/{days}`), My DVD (`/calendars/my/dvd/{start_date}/{days}`), All Shows (`/calendars/all/shows/{start_date}/{days}`), All New Shows (`/calendars/all/shows/new/{start_date}/{days}`), All Season Premieres (`/calendars/all/shows/premieres/{start_date}/{days}`), All Finales (`/calendars/all/shows/finales/{start_date}/{days}`), All Movies (`/calendars/all/movies/{start_date}/{days}`), All Streaming (`/calendars/all/streaming/{start_date}/{days}`), All DVD (`/calendars/all/dvd/{start_date}/{days}`).
- **Checkin**: Checkin (`/checkin`).
- **Certifications**: List (`/certifications/{type}`).
- **Comments**: Comments (`/comments`), Comment (`/comments/{id}`), Replies (`/comments/{id}/replies`), Item (`/comments/{id}/item`), Likes (`/comments/{id}/likes`), Like (`/comments/{id}/like`), Trending (`/comments/trending/{comment_type}/{type}{?include_replies}`), Recent (`/comments/recent/{comment_type}/{type}{?include_replies}`), Updates (`/comments/updates/{comment_type}/{type}{?include_replies}`).
- **Countries**: List (`/countries/{type}`).
- **Genres**: List (`/genres/{type}`).
- **Languages**: List (`/languages/{type}`).
- **Lists**: Trending (`/lists/trending/{type}`), Popular (`/lists/popular/{type}`), List (`/lists/{id}`), List Likes (`/lists/{id}/likes`), List Like (`/lists/{id}/like`), List Items (`/lists/{id}/items/{type}/{sort_by}/{sort_how}`), List Comments (`/lists/{id}/comments/{sort}`).
- **Movies**: Trending (`/movies/trending`), Popular (`/movies/popular`), Favorited (`/movies/favorited/{period}`), Played (`/movies/played/{period}`), Watched (`/movies/watched/{period}`), Collected (`/movies/collected/{period}`), Anticipated (`/movies/anticipated`), Box Office (`/movies/boxoffice`), Updates (`/movies/updates/{start_date}`), Updated IDs (`/movies/updates/id/{start_date}`), Summary (`/movies/{id}`), Aliases (`/movies/{id}/aliases`), Releases (`/movies/{id}/releases/{country}`), Translations (`/movies/{id}/translations/{language}`), Comments (`/movies/{id}/comments/{sort}`), Lists (`/movies/{id}/lists/{type}/{sort}`), People (`/movies/{id}/people`), Ratings (`/movies/{id}/ratings`), Related (`/movies/{id}/related`), Stats (`/movies/{id}/stats`), Studios (`/movies/{id}/studios`), Watching (`/movies/{id}/watching`), Videos (`/movies/{id}/videos`), Refresh (`/movies/{id}/refresh`).
- **Networks**: List (`/networks`).
- **Notes**: Notes (`/notes`), Note (`/notes/{id}`), Item (`/notes/{id}/item`).
- **People**: Updates (`/people/updates/{start_date}`), Updated IDs (`/people/updates/id/{start_date}`), Summary (`/people/{id}`), Movies (`/people/{id}/movies`), Shows (`/people/{id}/shows`), Lists (`/people/{id}/lists/{type}/{sort}`), Refresh (`/people/{id}/refresh`).
- **Recommendations**: Movies (`/recommendations/movies{?ignore_collected,ignore_watchlisted}`), Hide Movie (`/recommendations/movies/{id}`), Shows (`/recommendations/shows{?ignore_collected,ignore_watchlisted}`), Hide Show (`/recommendations/shows/{id}`).
- **Scrobble**: Start (`/scrobble/start`), Pause (`/scrobble/pause`), Stop (`/scrobble/stop`).
- **Search**: Text Query (`/search/{type}{?query}`), ID Lookup (`/search/{id_type}/{id}{?type}`).
- **Shows**: Trending (`/shows/trending`), Popular (`/shows/popular`), Favorited (`/shows/favorited/{period}`), Played (`/shows/played/{period}`), Watched (`/shows/watched/{period}`), Collected (`/shows/collected/{period}`), Anticipated (`/shows/anticipated`), Updates (`/shows/updates/{start_date}`), Updated IDs (`/shows/updates/id/{start_date}`), Summary (`/shows/{id}`), Aliases (`/shows/{id}/aliases`), Certifications (`/shows/{id}/certifications`), Translations (`/shows/{id}/translations/{language}`), Comments (`/shows/{id}/comments/{sort}`), Lists (`/shows/{id}/lists/{type}/{sort}`), Collection Progress (`/shows/{id}/progress/collection{?hidden,specials,count_specials,last_activity}`), Watched Progress (`/shows/{id}/progress/watched{?hidden,specials,count_specials,last_activity}`), Reset Watched Progress (`/shows/{id}/progress/watched/reset`), People (`/shows/{id}/people`), Ratings (`/shows/{id}/ratings`), Related (`/shows/{id}/related`), Stats (`/shows/{id}/stats`), Studios (`/shows/{id}/studios`), Watching (`/shows/{id}/watching`), Next Episode (`/shows/{id}/next_episode`), Last Episode (`/shows/{id}/last_episode`), Videos (`/shows/{id}/videos`), Refresh (`/shows/{id}/refresh`).
- **Seasons**: Summary (`/shows/{id}/seasons`), Season (`/shows/{id}/seasons/{season}/info`), Episodes (`/shows/{id}/seasons/{season}{?translations}`), Translations (`/shows/{id}/seasons/{season}/translations/{language}`), Comments (`/shows/{id}/seasons/{season}/comments/{sort}`), Lists (`/shows/{id}/seasons/{season}/lists/{type}/{sort}`), People (`/shows/{id}/seasons/{season}/people`), Ratings (`/shows/{id}/seasons/{season}/ratings`), Stats (`/shows/{id}/seasons/{season}/stats`), Watching (`/shows/{id}/seasons/{season}/watching`), Videos (`/shows/{id}/seasons/{season}/videos`).
- **Episodes**: Summary (`/shows/{id}/seasons/{season}/episodes/{episode}`), Translations (`/shows/{id}/seasons/{season}/episodes/{episode}/translations/{language}`), Comments (`/shows/{id}/seasons/{season}/episodes/{episode}/comments/{sort}`), Lists (`/shows/{id}/seasons/{season}/episodes/{episode}/lists/{type}/{sort}`), People (`/shows/{id}/seasons/{season}/episodes/{episode}/people`), Ratings (`/shows/{id}/seasons/{season}/episodes/{episode}/ratings`), Stats (`/shows/{id}/seasons/{season}/episodes/{episode}/stats`), Watching (`/shows/{id}/seasons/{season}/episodes/{episode}/watching`), Videos (`/shows/{id}/seasons/{season}/episodes/{episode}/videos`).
- **Sync**: Last Activities (`/sync/last_activities`), Playback (`/sync/playback/{type}{?start_at,end_at}`), Remove Playback (`/sync/playback/{id}`), Get Collection (`/sync/collection/{type}`), Add to Collection (`/sync/collection`), Remove from Collection (`/sync/collection/remove`), Get Watched (`/sync/watched/{type}`), Get History (`/sync/history/{type}/{id}{?start_at,end_at}`), Add to History (`/sync/history`), Remove from History (`/sync/history/remove`), Get Ratings (`/sync/ratings/{type}/{rating}`), Add Ratings (`/sync/ratings`), Remove Ratings (`/sync/ratings/remove`), Get Watchlist (`/sync/watchlist/{type}/{sort_by}/{sort_how}`), Update Watchlist (`/sync/watchlist`), Add to Watchlist (`/sync/watchlist`), Remove from Watchlist (`/sync/watchlist/remove`), Reorder Watchlist (`/sync/watchlist/reorder`), Update Watchlist Item (`/sync/watchlist/{list_item_id}`), Get Favorites (`/sync/favorites/{type}/{sort_by}/{sort_how}`), Update Favorites (`/sync/favorites`), Add to Favorites (`/sync/favorites`), Remove from Favorites (`/sync/favorites/remove`), Reorder Favorites (`/sync/favorites/reorder`), Update Favorite Item (`/sync/favorites/{list_item_id}`).
- **Users**: Settings (`/users/settings`), Following Requests (`/users/requests/following`), Follower Requests (`/users/requests`), Approve or Deny Follower Requests (`/users/requests/{id}`), Saved Filters (`/users/saved_filters/{section}`), Hidden Items (`/users/hidden/{section}{?type}`), Add Hidden Items (`/users/hidden/{section}`), Remove Hidden Items (`/users/hidden/{section}/remove`), Profile (`/users/{id}`), Likes (`/users/{id}/likes/{type}`), Collection (`/users/{id}/collection/{type}`), Comments (`/users/{id}/comments/{comment_type}/{type}{?include_replies}`), Notes (`/users/{id}/notes/{type}`), Lists (`/users/{id}/lists`), Reorder Lists (`/users/{id}/lists/reorder`), Collaborations (`/users/{id}/lists/collaborations`), List (`/users/{id}/lists/{list_id}`), List Likes (`/users/{id}/lists/{list_id}/likes`), List Like (`/users/{id}/lists/{list_id}/like`), List Items (`/users/{id}/lists/{list_id}/items/{type}/{sort_by}/{sort_how}`), Add List Items (`/users/{id}/lists/{list_id}/items`), Remove List Items (`/users/{id}/lists/{list_id}/items/remove`), Reorder List Items (`/users/{id}/lists/{list_id}/items/reorder`), Update List Item (`/users/{id}/lists/{list_id}/items/{list_item_id}`), List Comments (`/users/{id}/lists/{list_id}/comments/{sort}`), Follow (`/users/{id}/follow`), Followers (`/users/{id}/followers`), Following (`/users/{id}/following`), Friends (`/users/{id}/friends`), History (`/users/{id}/history/{type}/{item_id}{?start_at,end_at}`), Ratings (`/users/{id}/ratings/{type}/{rating}`), Watchlist (`/users/{id}/watchlist/{type}/{sort_by}/{sort_how}`), Watchlist Comments (`/users/{id}/watchlist/comments/{sort}`), Favorites (`/users/{id}/favorites/{type}/{sort_by}/{sort_how}`), Favorites Comments (`/users/{id}/favorites/comments/{sort}`), Watching (`/users/{id}/watching`), Watched (`/users/{id}/watched/{type}`), Stats (`/users/{id}/stats`).

## Authentication workflows

### Device flow (`Authentication - Devices`)

Follow this sequence when building limited-input experiences (media centers, TVs, CLI tools), mirroring the `spec/trakt.apib` steps:

1. **Generate codes** — `POST /oauth/device/code` with your `client_id` and optional `client_secret`. Persist the full response (`device_code`, `user_code`, `verification_url`, `expires_in`, `interval`). Never reuse expired codes.
2. **Prompt the user** — render `user_code` and direct them to `verification_url` on another device. Keep the prompt visible until you receive a terminal response or the request expires.
3. **Poll for authorization** — `POST /oauth/device/token` with `code` = `device_code`, `client_id`, and `client_secret`. Poll exactly at the provided `interval` (seconds) and stop after `expires_in` elapses.
4. **Handle polling errors** — inspect the `error` string in non-200 responses:
	- `authorization_pending`: continue polling at the same interval.
	- `slow_down`: increase the polling delay by 5 seconds before retrying.
	- `access_denied`: abort the flow and inform the user authorization was declined.
	- `expired_token`: stop polling, discard codes, and restart at step 1.
5. **Success response** — on HTTP 200, capture the returned `access_token`, `refresh_token`, and `expires_in` just like standard OAuth. Persist tokens securely and use the refresh flow (`/oauth/token` with `grant_type=refresh_token`) before the access token expires.

All subsequent authenticated calls from the device must include the `Authorization: Bearer <access_token>` header plus the standard Trakt headers listed above.